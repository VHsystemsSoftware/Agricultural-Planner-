@page "/dashboard-all"
@inject HubConnection _hubConnection
@inject PageTitleService PageTitleService
<DashboardComponent @ref="dc"/>

@code {
    private DashboardComponent? dc;

    protected override async Task OnInitializedAsync()
    {
        PageTitleService.Title = "";

        await ConnectNotification();
    }

    private async Task ConnectNotification()
    {
        _hubConnection.On<Guid, Guid>("Job", (jobId, trayId) =>
        {
            dc.LoadJobs();
        });
    }
}
