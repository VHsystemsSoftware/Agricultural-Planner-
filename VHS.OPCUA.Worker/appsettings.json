{
	"Serilog": {
		"Using": [
			"Serilog.Sinks.Console",
			"Serilog.Sinks.File",
			"Serilog.Expressions"
		],
		"MinimumLevel": {
			"Default": "Information",
			"Override": {
				"Microsoft.EntityFrameworkCore.Database.Command": "Warning",
				"Microsoft.AspNetCore.Hosting": "Warning",
				"Microsoft.Hosting.Lifetime": "Warning",
				"Microsoft.EntityFrameworkCore.Migrations": "Warning",
				"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager": "Warning",
				"Microsoft.EntityFrameworkCore.Model.Validation": "Warning",
				"Microsoft.AspNetCore": "Warning"
			}
		},
		"WriteTo": [
			{
				"Name": "Console",
				"Args": {
					"outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <{SourceContext}>{NewLine}{Exception}"
				},
				"Filter": [
					{
						"Name": "ByExcluding",
						"Args": {
							"expression": "Contains(Message, '%HttpTransport%')"
						}
					},
					{
						"Name": "ByIncludingOnly",
						"Args": {
							"expression": "(@l = 'Information')"
						}
					}
				]
			},
			{
				"Name": "Logger",
				"Args": {
					"configureLogger": {
						"WriteTo": [
							{
								"Name": "File",
								"Args": {
									"path": "%LoggingDirectory%/VHS_OPCUA_Worker_.txt",
									"outputTemplate": "{Timestamp:o} [{Level:u3}] [{MachineName}/{ThreadId}] ({SourceContext}) {Message}{NewLine}{Exception}",
									"rollingInterval": "Day",
									"retainedFileCountLimit": 30
								}
							}
						],
						"Filter": [
							{
								"Name": "ByExcluding",
								"Args": {
									"expression": "Contains(Message,'HeartBeat')"
								}
							},
							{
								"Name": "ByExcluding",
								"Args": {
									"expression": "Contains(Message, 'HttpTransport')"
								}
							}
						]
					}
				}

			}
		]
	},
	"Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
	"Properties": {
		"Application": "VHS.OPCUA.Worker"
	}
}
